<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>legalbear</title>
</head>
<body>
  <div class="layout">
    <!-- Sol Panel: ModÃ¼l Listesi -->
    <div class="sidebar">
    <div class="logo-container" style="display:flex; align-items:center; padding:10px; justify-content: space-between;">
  <img src="/static/legalbear.png" class="logo-img" alt="Bearr" />
</div>
      <ul>
        <li><button onclick="loadModule('intro')">legalbear nedir?</button></li>
        <li><button onclick="loadModule('kvkk-qa')">KVKK Arama Motoru</button></li>
        <li><button onclick="loadModule('kvkk-risk')">KVKK Risk Analizi</button></li>
        <li><button onclick="loadModule('visitor-info')">ZiyaretÃ§i AydÄ±nlatma Metni</button></li>
        <li><button onclick="loadModule('kvkk-consent')">KVKK AÃ§Ä±k RÄ±za Metni</button></li>
        <li><button onclick="loadModule('kvkk-info')">KVKK Bilgilendirme Metni</button></li>
        <li><button onclick="loadModule('gdpr-consent')">GDPR AÃ§Ä±k RÄ±za Metni</button></li>
      </ul>
    </div>

    <!-- SaÄŸ Panel: Ä°Ã§erik AlanÄ± -->
    <div class="main" id="content-area">
      <h1>legalbear nedir?</h1>
      <p><strong>legalbear</strong>, kiÅŸisel veri koruma sÃ¼reÃ§lerini kolaylaÅŸtÄ±rmak iÃ§in geliÅŸtirilmiÅŸ aÃ§Ä±k kaynaklÄ± bir hukuk asistanÄ±dÄ±r.</p>
      <ul>
        <li>KVKK ve GDPR kapsamÄ±nda veri analizi yapar</li>
        <li>Åablon metinler Ã¼retir</li>
        <li>Yasal sorularÄ± yanÄ±tlar</li>
        <li>Akademik ve aÃ§Ä±k kaynak topluluklarÄ± iÃ§in tasarlanmÄ±ÅŸtÄ±r</li>
        <li>Hedefi: veri koruma sÃ¼reÃ§lerini herkes iÃ§in eriÅŸilebilir ve anlaÅŸÄ±lÄ±r hale getirmek</li>
      </ul>
      <p>legalbear, teknik kullanÄ±cÄ±lar kadar hukukÃ§ular ve veri sorumlularÄ± iÃ§in de sade bir arayÃ¼z sunar. ModÃ¼ler yapÄ±sÄ± sayesinde farklÄ± senaryolara uyarlanabilir. AÃ§Ä±k kaynak olmasÄ±, topluluk katkÄ±larÄ±nÄ± teÅŸvik eder ve sÃ¼rekli geliÅŸmesini saÄŸlar.</p>
      <p>Ä°ster KVKK bilgilendirme metni Ã¼retmek isteyin, ister GDPR aÃ§Ä±k rÄ±za metni hazÄ±rlayÄ±n; legalbear sizin iÃ§in hÄ±zlÄ±, doÄŸru ve yasal uyumlu iÃ§erikler sunar.</p>
    </div>
  </div>
<script src="/static/script.js"></script>

</body>
</html>

<style>

.logo-img {
  height: 50px;
  width: 160px;
  border-radius: 6px;
  object-fit: fill;
  border: 3px solid #ffffff;
}


body {
  font-family: "Calibri Light", "Calibri", "Segoe UI", sans-serif;
  background-color: #0b1c3f;
  color: #000;
  margin: 0;
  padding: 0;
}

.layout {
  display: flex;
  height: 100vh;
}

.sidebar {
  flex: 0 0 30%;
  background-color: #0d006d;
  padding: 30px;
  box-sizing: border-box;
  border-right: 2px solid #ccc;
}

.sidebar h2 {
  font-size: 20px;
  margin-bottom: 20px;
}

.sidebar ul {
  list-style: none;
  padding: 0;
}

.sidebar li {
  margin-bottom: 15px;
}

.sidebar button {
  width: 100%;
  padding: 12px;
  background-color: #fff700;
  color: rgb(39, 0, 210);
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}

.sidebar button:hover {
  background-color: hsl(0, 0%, 90%);
}

.main {
  flex: 0 0 70%;
  padding: 40px;
  background-color: #eef;
  box-sizing: border-box;
  overflow-y: auto;
}

.main h1 {
  font-size: 28px;
  margin-bottom: 20px;
}

.main p, .main ul {
  font-size: 16px;
  line-height: 1.6;
}

input[type="text"] {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  margin-bottom: 10px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

.main button {
  padding: 10px 20px;
  background-color: #0078D4;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: bold;
}

.main button:hover {
  background-color: #005fa3;
}

#kvkk-answer,
#kvkk-consent,
#kvkk-info,
#gdpr-consent,
#risk-input {
  background-color: #fff;
  padding: 15px;
  border-radius: 6px;
  border: 1px solid #ccc;
  margin-top: 10px;
  white-space: pre-wrap;
  font-family: "Calibri Light", "Calibri", "Segoe UI", sans-serif;
}
</style>

<script>
// ModÃ¼l YÃ¶nlendirme
function loadModule(module) {
  if (module === "intro") return renderIntro();
  if (module === "kvkk-consent") return renderKvkkConsent();
  if (module === "kvkk-info") return renderKvkkInfo();
  if (module === "gdpr-consent") return renderGdprConsent();
  if (module === "kvkk-qa") return renderKvkkQA();
  if (module === "visitor-info") return renderVisitorInfo();
  if (module === "kvkk-risk") return renderKvkkRisk();
}

// TanÄ±tÄ±m ModÃ¼lÃ¼
function renderIntro() {
  const content = document.getElementById("content-area");
  content.innerHTML = `
    <h1>legalbear nedir?</h1>
    <p><strong>legalbear</strong>, kiÅŸisel veri koruma sÃ¼reÃ§lerini kolaylaÅŸtÄ±rmak iÃ§in geliÅŸtirilmiÅŸ aÃ§Ä±k kaynaklÄ± bir hukuk asistanÄ±dÄ±r.</p>
    <ul>
      <li>KVKK ve GDPR kapsamÄ±nda veri analizi yapar</li>
      <li>Åablon metinler Ã¼retir</li>
      <li>Yasal sorularÄ± yanÄ±tlar</li>
      <li>Akademik ve aÃ§Ä±k kaynak topluluklarÄ± iÃ§in tasarlanmÄ±ÅŸtÄ±r</li>
      <li>Hedefi: veri koruma sÃ¼reÃ§lerini herkes iÃ§in eriÅŸilebilir ve anlaÅŸÄ±lÄ±r hale getirmek</li>
    </ul>
    <p>legalbear, teknik kullanÄ±cÄ±lar kadar hukukÃ§ular ve veri sorumlularÄ± iÃ§in de sade bir arayÃ¼z sunar. ModÃ¼ler yapÄ±sÄ± sayesinde farklÄ± senaryolara uyarlanabilir. AÃ§Ä±k kaynak olmasÄ±, topluluk katkÄ±larÄ±nÄ± teÅŸvik eder ve sÃ¼rekli geliÅŸmesini saÄŸlar.</p>
    <p>Ä°ster KVKK bilgilendirme metni Ã¼retmek isteyin, ister GDPR aÃ§Ä±k rÄ±za metni hazÄ±rlayÄ±n; legalbear sizin iÃ§in hÄ±zlÄ±, doÄŸru ve yasal uyumlu iÃ§erikler sunar.</p>
  `;
}

// KVKK Soru-Cevap ModÃ¼lÃ¼
function renderKvkkQA() {
  const content = document.getElementById("content-area");
  content.innerHTML = `
    <h1>KVKK Arama Motoru</h1>
    <p>KVKK hakkÄ±nda merak ettiÄŸiniz sorularÄ± buradan sorabilirsiniz.</p>
    <input type="text" id="kvkk-question" placeholder="Ã–rn: veri sorumlusu nedir, aÃ§Ä±k rÄ±za nedir?" style="width:100%; padding:10px; margin-top:10px;">
    <button id="kvkk-ask-button" onclick="askKvkk()" style="margin-top:10px;">Sor</button>
    <div id="kvkk-answer" style="margin-top:20px; font-weight:bold; display:none;"></div>
  `;

  // Enter tuÅŸuyla tetikleme
  const inputEl = document.getElementById("kvkk-question");
  const buttonEl = document.getElementById("kvkk-ask-button");

  if (inputEl && buttonEl) {
    inputEl.addEventListener("keydown", function (event) {
      if (event.key === "Enter" && !event.shiftKey) {
        event.preventDefault();
        buttonEl.click();
      }
    });
  }
}

function askKvkk() {
  const question = document.getElementById("kvkk-question").value.trim();
  const answerBox = document.getElementById("kvkk-answer");

  if (!question) {
    answerBox.style.display = "block";
    answerBox.innerText = "LÃ¼tfen bir soru girin.";
    return;
  }

  answerBox.style.display = "block";
  answerBox.innerText = "YanÄ±t aranÄ±yor...";

  fetch("/kvkk-qa", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ question })
  })
    .then(res => res.json())
    .then(data => {
      answerBox.innerText = data.answer || "YanÄ±t bulunamadÄ±.";
    })
    .catch(err => {
      answerBox.innerText = "Bir hata oluÅŸtu: " + err.message;
    });
}

// Risk Analiz ModÃ¼lÃ¼
function analyzeText() {
    // HTML'deki input alanÄ±nÄ±n ID'sini kullanÄ±yoruz. renderKvkkRisk'e gÃ¶re bu 'risk-input'.
    const inputEl = document.getElementById("risk-input");
    const resultEl = document.getElementById("risk-result");
    
    if (!inputEl) {
        alert("Metin alanÄ± bulunamadÄ±. LÃ¼tfen sayfayÄ± yenileyin.");
        return;
    }

    const text = inputEl.value;
    resultEl.innerText = "Analiz ediliyor, lÃ¼tfen bekleyiniz...";

    fetch("/analyze", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text })
    })
    .then(res => {
        if (!res.ok) throw new Error(`HTTP Hata: ${res.status} - Sunucu yanÄ±tÄ± baÅŸarÄ±sÄ±z.`);
        return res.json();
    })
    .then(data => {
        // Yeni API Ã§Ä±ktÄ±sÄ±nÄ±n yapÄ±sÄ±nÄ± burada yakalÄ±yoruz:
        // data = { findings: [{}], risk_score: N, risk_level: "...", risks_detected: [{}] }
        const { findings, risk_score, risk_level, risks_detected } = data;

        let resultText = `
### âš¡ï¸ KVKK Risk Analizi Sonucu âš¡ï¸

âœ… Risk Seviyesi: ${risk_level}
ğŸ”¢ Risk Skoru: ${risk_score} / 25 (Puanlama: OlasÄ±lÄ±k x Etki)
${'-'.repeat(50)}
`;
        
        // --- 1. Tespit Edilen Veriler (Findings) ---
        resultText += `\nğŸ” Tespit Edilen KiÅŸisel Veriler (${findings.length} adet):\n`;
        if (findings.length) {
            resultText += findings.map(f => {
                // Yeni findings yapÄ±sÄ±: { type: "...", match: "...", etki: N }
                return `  - [Etki: ${f.etki}] ${f.type}: "${f.match}"`;
            }).join("\n");
        } else {
            resultText += "  - Metin iÃ§erisinde kiÅŸisel veri tespit edilmedi.";
        }

        // --- 2. Tespit Edilen Riskler ---
        resultText += `\n\nğŸš¨ Tespit Edilen Hukuki Riskler (${risks_detected.length} adet):\n`;
        if (risks_detected.length) {
            resultText += risks_detected.map(r => {
                // Yeni risks_detected yapÄ±sÄ±: { risk_type: "...", suggestion: "...", olasÄ±lÄ±k: N }
                return `  - [OlasÄ±lÄ±k: ${r.olasÄ±lÄ±k}] **${r.risk_type}**\n    Ã–neri: ${r.suggestion}`;
            }).join("\n\n");
        } else {
            resultText += "  - AÃ§Ä±k rÄ±za veya aydÄ±nlatma eksikliÄŸi gibi hukuki risk ifadesi bulunamadÄ±.";
        }

        resultEl.innerText = resultText;
    })
    .catch(err => {
        resultEl.innerText = `Hata oluÅŸtu: ${err.message}`;
        console.error("Analiz hatasÄ±:", err);
    });
}

// ModÃ¼lÃ¼ ana sayfada render eden fonksiyon
function renderKvkkRisk() {
    const content = document.getElementById("content-area");
    content.innerHTML = `
        <h1>KVKK Risk Analizi</h1>
        <p>
        Bu modÃ¼l, KVKK kapsamÄ±nda kiÅŸisel veri iÃ§eren metinleri analiz ederek olasÄ± riskleri tespit etmenizi saÄŸlar. Metin, bir sÃ¶zleÅŸme, bilgilendirme metni, aÃ§Ä±k rÄ±za formu, e-posta iÃ§eriÄŸi veya herhangi bir veri iÅŸleme aÃ§Ä±klamasÄ± olabilir.
        </p>
        <textarea id="risk-input" placeholder="Analiz etmek istediÄŸiniz metni buraya girin..." style="width:90%; height:150px; margin-top:10px;"></textarea>
        <button id="analyze-button" onclick="analyzeText()" style="margin-top:10px;">Analiz Et</button>
        
        <hr style="margin-top: 20px;">
        
        <h2>Analiz Raporu</h2>
        <pre id="risk-result" style="margin-top:10px; padding: 15px; background-color: #f7f7f7; border: 1px solid #ddd; white-space:pre-wrap; text-align: left;"></pre>
    `;

    // Sadece bu modÃ¼lÃ¼n aktif olduÄŸu yerde klavye kÄ±sayolunu ekleyelim
    setTimeout(() => {
        const inputEl = document.getElementById("risk-input");
        const buttonEl = document.getElementById("analyze-button");

        if (inputEl && buttonEl) {
            // "Enter" tuÅŸuna basÄ±ldÄ±ÄŸÄ±nda (Shift basÄ±lÄ± deÄŸilse) analizi baÅŸlat
            inputEl.addEventListener("keydown", function(event) {
                if (event.key === "Enter" && !event.shiftKey) {
                    event.preventDefault(); 
                    buttonEl.click(); 
                }
            });
        }
    }, 0); 
    // DiÄŸer global event listener'lar (document.getElementById("submit-botton").click(); kÄ±sÄ±mlarÄ±) 
    // bu fonksiyon dÄ±ÅŸÄ±nda temizlenmelidir.
}

// ZiyaretÃ§i AydÄ±nlatma ModÃ¼lÃ¼ (GeliÅŸmiÅŸ)
function renderVisitorInfo() {
  const content = document.getElementById("content-area");
  content.innerHTML = `
    <h1>ZiyaretÃ§i AydÄ±nlatma Metni OluÅŸtur</h1>
    <p>KVKK m.10 ve ilgili TebliÄŸ uyarÄ±nca ziyaretÃ§ilerin kiÅŸisel verilerinin iÅŸlenmesine dair bilgilendirme metni oluÅŸturmak iÃ§in aÅŸaÄŸÄ±daki alanlarÄ± doldurun.</p>

    <input type="text" id="company-name" placeholder="Åirket AdÄ±" style="width:90%; padding:10px; margin-top:10px;"><br>
    <input type="text" id="contact-info" placeholder="Ä°letiÅŸim Bilgisi (e-posta, telefon)" style="width:90%; padding:10px; margin-top:10px;"><br>
    <input type="text" id="purpose" placeholder="Ä°ÅŸleme AmacÄ± (Ã¶rn: bina gÃ¼venliÄŸi)" style="width:90%; padding:10px; margin-top:10px;"><br>
    <input type="text" id="method" placeholder="Ä°ÅŸleme YÃ¶ntemi (Ã¶rn: kamera kaydÄ±, kayÄ±t defteri)" style="width:90%; padding:10px; margin-top:10px;"><br>
    <input type="text" id="legal-basis" placeholder="Hukuki Sebep (Ã¶rn: KVKK m.5/2-Ã§)" style="width:90%; padding:10px; margin-top:10px;"><br>
    <input type="text" id="transfer-info" placeholder="AktarÄ±m Bilgisi (Ã¶rn: kamu kurumlarÄ±)" style="width:90%; padding:10px; margin-top:10px;"><br>

    <button id="visitor-info-button" onclick="generateVisitorInfo()" style="margin-top:10px;">Metni OluÅŸtur</button>
    <div id="visitor-info-result" style="margin-top:20px; white-space:pre-wrap;"></div>
  `;

  // Enter tuÅŸuyla tetikleme
  const inputEls = document.querySelectorAll("#company-name, #contact-info, #purpose, #method, #legal-basis, #transfer-info");
  const buttonEl = document.getElementById("visitor-info-button");

  inputEls.forEach(input => {
    input.addEventListener("keydown", function (event) {
      if (event.key === "Enter" && !event.shiftKey) {
        event.preventDefault();
        buttonEl.click();
      }
    });
  });
}

function generateVisitorInfo() {
  const company = document.getElementById("company-name").value.trim();
  const contact = document.getElementById("contact-info").value.trim();
  const purpose = document.getElementById("purpose").value.trim();
  const method = document.getElementById("method").value.trim();
  const legal_basis = document.getElementById("legal-basis").value.trim();
  const transfer = document.getElementById("transfer-info").value.trim();
  const resultBox = document.getElementById("visitor-info-result");

  if (!company || !contact) {
    resultBox.innerText = "LÃ¼tfen ÅŸirket adÄ± ve iletiÅŸim bilgilerini girin.";
    return;
  }

  resultBox.innerText = "Metin oluÅŸturuluyor...";

  fetch("/generate-visitor-text", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      company,
      contact,
      purpose,
      method,
      legal_basis,
      transfer
    })
  })
    .then(res => res.json())
    .then(data => {
      resultBox.innerText = data.text || "Åablon alÄ±namadÄ±.";
    })
    .catch(err => {
      resultBox.innerText = "Bir hata oluÅŸtu: " + err.message;
    });
}

// KVKK AÃ§Ä±k RÄ±za ModÃ¼lÃ¼
function renderKvkkConsent() {
  const content = document.getElementById("content-area");
  content.innerHTML = `
    <h1>KVKK AÃ§Ä±k RÄ±za</h1>
    <p>AdÄ±nÄ±zÄ± ve ÅŸirket adÄ±nÄ± girerek KVKK aÃ§Ä±k rÄ±za metni oluÅŸturabilirsiniz.</p>
    <input type="text" id="user-name" placeholder="AdÄ±nÄ±z" style="width:90%; padding:10px; margin-top:10px;">
    <input type="text" id="company-name" placeholder="Åirket AdÄ±" style="width:90%; padding:10px; margin-top:10px;">
    <button id="kvkk-consent-button" onclick="generateKvkkConsent()" style="margin-top:10px;">Metni OluÅŸtur</button>
    <div id="kvkk-consent-result" style="margin-top:20px; white-space:pre-wrap;"></div>
  `;

  // Enter tuÅŸuyla tetikleme: her iki input alanÄ±nda
  ["user-name", "company-name"].forEach(id => {
    const inputEl = document.getElementById(id);
    const buttonEl = document.getElementById("kvkk-consent-button");

    if (inputEl && buttonEl) {
      inputEl.addEventListener("keydown", function (event) {
        if (event.key === "Enter" && !event.shiftKey) {
          event.preventDefault();
          buttonEl.click();
        }
      });
    }
  });
}

function generateKvkkConsent() {
  const name = document.getElementById("user-name").value.trim();
  const company = document.getElementById("company-name").value.trim();
  const resultBox = document.getElementById("kvkk-consent-result");

  if (!name || !company) {
    resultBox.innerText = "LÃ¼tfen adÄ±nÄ±zÄ± ve ÅŸirket adÄ±nÄ± girin.";
    return;
  }

  resultBox.innerText = "Metin oluÅŸturuluyor...";

  fetch("/template/kvkk-consent", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ name, company })
  })
    .then(res => res.json())
    .then(data => {
      resultBox.innerText = data.template || "Åablon alÄ±namadÄ±.";
    })
    .catch(err => {
      resultBox.innerText = "Bir hata oluÅŸtu: " + err.message;
    });
}

// KVKK Bilgilendirme ModÃ¼lÃ¼
function renderKvkkInfo() {
  const content = document.getElementById("content-area");
  content.innerHTML = `
    <h1>KVKK Bilgilendirme Metni</h1>
    <p>Åirket adÄ±nÄ± girerek KVKK bilgilendirme metni oluÅŸturabilirsiniz.</p>
    <input type="text" id="company-name" placeholder="Åirket AdÄ±" style="width:90%; padding:10px; margin-top:10px;">
    <input type="text" id="purpose" placeholder="Veri iÅŸleme amacÄ± (Ã¶rn: gÃ¼venlik, pazarlama)" style="width:90%; padding:10px; margin-top:10px;">
    <button id="kvkk-info-button" onclick="generateKvkkInfo()" style="margin-top:10px;">Metni OluÅŸtur</button>
    <div id="kvkk-info-result" style="margin-top:20px; white-space:pre-wrap;"></div>
  `;

  // Enter tuÅŸuyla tetikleme: her iki input alanÄ±nda
  ["company-name", "purpose"].forEach(id => {
    const inputEl = document.getElementById(id);
    const buttonEl = document.getElementById("kvkk-info-button");

    if (inputEl && buttonEl) {
      inputEl.addEventListener("keydown", function (event) {
        if (event.key === "Enter" && !event.shiftKey) {
          event.preventDefault();
          buttonEl.click();
        }
      });
    }
  });
}

function generateKvkkInfo() {
  const company = document.getElementById("company-name").value.trim();
  const purpose = document.getElementById("purpose").value.trim();
  const resultBox = document.getElementById("kvkk-info-result");

  if (!company || !purpose) {
    resultBox.innerText = "LÃ¼tfen ÅŸirket adÄ±nÄ± ve veri iÅŸleme amacÄ±nÄ± girin.";
    return;
  }

  resultBox.innerText = "Metin oluÅŸturuluyor...";

  fetch("/template/kvkk-info", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ company, purpose })
  })
    .then(res => res.json())
    .then(data => {
      resultBox.innerText = data.template || "Åablon alÄ±namadÄ±.";
    })
    .catch(err => {
      resultBox.innerText = "Bir hata oluÅŸtu: " + err.message;
    });
}

// GDPR AÃ§Ä±k RÄ±za ModÃ¼lÃ¼
function renderGdprConsent() {
  const content = document.getElementById("content-area");
  content.innerHTML = `
    <h1>GDPR AÃ§Ä±k RÄ±za Metni</h1>
    <p>AdÄ±nÄ±zÄ± ve ÅŸirket adÄ±nÄ± girerek GDPR aÃ§Ä±k rÄ±za metni oluÅŸturabilirsiniz.</p>
    <input type="text" id="user-name" placeholder="AdÄ±nÄ±z" style="width:90%; padding:10px; margin-top:10px;">
    <input type="text" id="company-name" placeholder="Åirket AdÄ±" style="width:90%; padding:10px; margin-top:10px;">
    <button id="gdpr-consent-button" onclick="generateGdprConsent()" style="margin-top:10px;">Metni OluÅŸtur</button>
    <div id="gdpr-consent-result" style="margin-top:20px; white-space:pre-wrap;"></div>
  `;

  // Enter tuÅŸuyla tetikleme: her iki input alanÄ±nda
  ["user-name", "company-name"].forEach(id => {
    const inputEl = document.getElementById(id);
    const buttonEl = document.getElementById("gdpr-consent-button");

    if (inputEl && buttonEl) {
      inputEl.addEventListener("keydown", function (event) {
        if (event.key === "Enter" && !event.shiftKey) {
          event.preventDefault();
          buttonEl.click();
        }
      });
    }
  });
}

function generateGdprConsent() {
  const name = document.getElementById("user-name").value.trim();
  const company = document.getElementById("company-name").value.trim();
  const resultBox = document.getElementById("gdpr-consent-result");

  if (!name || !company) {
    resultBox.innerText = "LÃ¼tfen adÄ±nÄ±zÄ± ve ÅŸirket adÄ±nÄ± girin.";
    return;
  }

  resultBox.innerText = "Metin oluÅŸturuluyor...";

  fetch("/template/gdpr-consent", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ name, company })
  })
    .then(res => res.json())
    .then(data => {
      resultBox.innerText = data.template || "Åablon alÄ±namadÄ±.";
    })
    .catch(err => {
      resultBox.innerText = "Bir hata oluÅŸtu: " + err.message;
    });
}

</script>
</body>
</html>